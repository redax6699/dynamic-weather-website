<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather - Dakhla</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background: linear-gradient(135deg, #5B9FED 0%, #4A90E2 100%);
            min-height: 100vh;
            transition: background 0.5s ease, color 0.5s ease;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        #map {
            height: 100%;
            width: 100%;
            border-radius: 1rem;
        }
        .music-control {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }
    </style>
</head>
<body class="font-sans p-6">
    <div class="max-w-7xl mx-auto">
        <!-- Search Bar with Logo -->
        <div class="flex justify-between items-center mb-6 gap-4">
            <!-- Left: Logo -->
            <div class="flex items-center gap-3 glass-card rounded-2xl px-6 py-4 hover:scale-105 transition-transform duration-300 shadow-2xl">
                <svg class="w-10 h-10 text-yellow-300 animate-pulse" fill="currentColor" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <div>
                    <div class="text-white font-black text-2xl tracking-widest" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.3); background: linear-gradient(to right, #ffffff, #e0f2fe); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                        ESTD METEO
                    </div>
                    <div class="text-white/70 text-xs tracking-wider font-semibold">
                        Weather Forecast
                    </div>
                </div>
            </div>

            <!-- Center: Search and controls -->
            <div class="flex gap-4 flex-1 justify-center">
                <!-- Added geolocation button -->
                <button id="geolocateBtn" class="glass-card rounded-full px-4 py-3 text-white hover:scale-105 transition-transform" title="Use my location">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </button>
                
                <div class="glass-card rounded-full px-6 py-3 w-full max-w-md flex items-center gap-3">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input type="text" id="cityInput" value="dakhla" class="bg-transparent text-white placeholder-white/70 outline-none flex-1">
                </div>

                <!-- Added share and temperature unit toggle buttons -->
                <button id="shareBtn" class="glass-card rounded-full px-4 py-3 text-white hover:scale-105 transition-transform" title="Share weather">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                    </svg>
                </button>

                <button id="unitToggle" class="glass-card rounded-full px-4 py-3 text-white hover:scale-105 transition-transform font-bold" title="Toggle temperature unit">
                    °C
                </button>
            </div>

            <!-- Right: Empty space for symmetry -->
            <div class="text-2xl" style="opacity: 0; pointer-events: none;">
                ESTD METEO
            </div>
        </div>

        <!-- Added favorites bar -->
        <div class="flex justify-center mb-6">
            <div class="glass-card rounded-full px-6 py-3 flex items-center gap-3">
                <button id="addFavoriteBtn" class="text-white hover:scale-110 transition-transform" title="Add to favorites">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                    </svg>
                </button>
                <div id="favoritesContainer" class="flex gap-2"></div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Left Column: Main Weather + Hourly Forecast + Map -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Main Weather Card -->
                <div class="glass-card rounded-3xl p-8">
                    <div class="flex items-start justify-between">
                        <!-- Left: Temperature and Location -->
                        <div>
                            <div class="flex items-center gap-2 text-white/90 mb-4">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                <span class="text-lg" id="locationName">Dakhla, Western Sahara</span>
                                <!-- Added local time display -->
                                <span class="text-sm opacity-70 ml-2" id="localTime"></span>
                            </div>
                            
                            <div class="text-white text-9xl font-bold mb-2" id="currentTemp">20°</div>
                            
                            <div class="flex items-center gap-2 text-white text-2xl mb-2">
                                <span id="weatherIcon">☀️</span>
                                <span class="font-semibold" id="weatherDesc">Sunny</span>
                            </div>
                            
                            <div class="text-white/80 text-lg" id="tempRange">High: 24° Low: 12°</div>
                        </div>

                        <!-- Right: Weather Details Grid -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-center text-white/90">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                                <div class="text-sm mb-1">Wind</div>
                                <div class="font-bold text-lg" id="windSpeed">8 km/h</div>
                            </div>
                            <div class="text-center text-white/90">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path>
                                </svg>
                                <div class="text-sm mb-1">Humidity</div>
                                <div class="font-bold text-lg" id="humidity">63%</div>
                            </div>
                            <div class="text-center text-white/90">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                <div class="text-sm mb-1">Feels Like</div>
                                <div class="font-bold text-lg" id="feelsLike">24°</div>
                            </div>
                            <div class="text-center text-white/90">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                                <div class="text-sm mb-1">Pressure</div>
                                <div class="font-bold text-lg" id="pressure">1013 hPa</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Added hourly forecast section -->
                <div class="glass-card rounded-3xl p-6">
                    <h3 class="text-white text-xl font-bold mb-4">Hourly Forecast</h3>
                    <div class="flex overflow-x-auto gap-4 pb-2" id="hourlyContainer">
                        <!-- Hourly forecast items will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Map Card -->
                <div class="glass-card rounded-3xl p-6 h-96">
                    <div id="map"></div>
                </div>
            </div>

            <!-- Right Column: Sunrise/Sunset + 7-Day Forecast -->
            <div class="space-y-6">
                <!-- Sunrise/Sunset Cards -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="glass-card rounded-2xl p-6 text-center text-white">
                        <svg class="w-12 h-12 mx-auto mb-3 text-yellow-300" fill="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="text-sm uppercase tracking-wide mb-1">Sunrise</div>
                        <div class="text-xl font-bold" id="sunrise">08:37 AM</div>
                    </div>
                    <div class="glass-card rounded-2xl p-6 text-center text-white">
                        <svg class="w-12 h-12 mx-auto mb-3 text-orange-300" fill="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="text-sm uppercase tracking-wide mb-1">Sunset</div>
                        <div class="text-xl font-bold" id="sunset">07:19 PM</div>
                    </div>
                </div>

                <!-- 7-Day Forecast Card -->
                <div class="glass-card rounded-3xl p-6">
                    <h3 class="text-white text-2xl font-bold mb-6">7-Day Forecast</h3>
                    
                    <div class="space-y-4" id="forecastContainer">
                        <!-- Forecast items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Music control button -->
    <button id="musicToggle" class="music-control glass-card rounded-full p-4 text-white hover:scale-110 transition-transform">
        <svg id="musicIcon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
    </button>

    <!-- Added weather animation canvas -->
    <canvas id="weatherCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;"></canvas>

    <script src="script.js"></script>
</body>
</html>
